<!DOCTYPE html>
<html>
  <head>
    <title>Mazelike</title>
    <base href="/game/"/>
    <link rel="icon" href="/img/m main.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <meta name="theme-color" content="#203255"/>
    <link rel="manifest" href="/manifest.json"/>
    <script async src="/scripts/common.js"></script>
    <link rel="preload" href="DawnLike/Objects/Floor.json" as="fetch" crossorigin="anonymous"/>
    <link rel="preload" href="DawnLike/Characters/dog.json" as="fetch" crossorigin="anonymous"/>
    <link rel="preload" href="DawnLike/Characters/demon.json" as="fetch" crossorigin="anonymous"/>
    <link rel="preload" href="DawnLike/Characters/player.json" as="fetch" crossorigin="anonymous"/>
    <link rel="preload" href="DawnLike/Items/boot.json" as="fetch" crossorigin="anonymous"/>
    <link rel="preload" href="DawnLike/Items/hat.json" as="fetch" crossorigin="anonymous"/>
    <link rel="preload" href="DawnLike/Items/shield.json" as="fetch" crossorigin="anonymous"/>
    <link rel="preload" href="DawnLike/Items/shortWep.json" as="fetch" crossorigin="anonymous"/>
    <link rel="preload" href="DawnLike/Objects/Floor.png" as="image"/>
    <link rel="preload" href="DawnLike/Characters/Dog0.png" as="image"/>
    <link rel="preload" href="DawnLike/Characters/Demon0.png" as="image"/>
    <link rel="preload" href="DawnLike/Characters/Player0.png" as="image"/>
    <link rel="preload" href="DawnLike/Items/Boot.png" as="image"/>
    <link rel="preload" href="DawnLike/Items/Hat.png" as="image"/>
    <link rel="preload" href="DawnLike/Items/Shield.png" as="image"/>
    <link rel="preload" href="DawnLike/Items/ShortWep.png" as="image"/>
    <style>
      * {
        margin: 0px;
        padding: 0px;
      }

      .backdrop {
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: fixed;
        opacity: 0.5;
        background: #000;
        z-index: 98;
      }

      .lightbox {
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        position: fixed;
        z-index: 99;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      h1 {
        text-align: center;
        margin-bottom: 15px;
      }

      .popup {
        background: #fff;
        width: 500px;
        padding: 10px;
        border-radius: 7px;
      }

      @media all and (max-width: 500px) {
        .lightbox {
          display: block;
        }

        .popup {
          border-radius: 0px;
          width: calc(100% - 20px);
        }
      }

      .crosshair {
        cursor: crosshair;
      }

      .tip {
        margin-top: 10px;
        padding-top: 10px;
        border-top: 1px solid #000;
      }

      .ready-align {
        display: flex;
      }

      button {
        background: #4484FF;
        border: none;
        padding: 10px 15px;
        border-radius: 10px;
        color: #fff;
      }

      button:hover {
        opacity: 0.8;
      }

      .dead:not(.win) .popup {
        background-color: #d00;
        color: #fff;
      }

      .dead:not(.win) a {
        color: #fff;
      }

      .fullscreen-box {
        display: flex;
        align-items: center;
        flex-grow: 1;
      }

      .win .popup {
        background-color: #ee0;
      }
    </style>
  </head>
  <body>
    <div class="msg-parent">
      <div class="backdrop"></div>
      <div class="lightbox">
        <div class="popup">
          <div class="ingame" style="display: none;">
            <h1 class="msg-header">Waiting for game to start</h1>
            <p class="msg">Loading assets</p>
          </div>
          <div class="pregame">
            <h1>Welcome adventurer</h1>
            <p>Youâ€™ve been kidnapped by the mad daemon Thazrad.  Him and his two brothers Argexuth and Jiramoth have imprisoned you in their dungeon.  Your quest is to slay the three daemons and escape their dungeon.  </p>
            <p class="tip">TIP: You can use ijkl to attack (i is up, k is down, j is left, l is right) or you can use the mouse</p>
            <div class="ready-align">
              <div class="fullscreen-box">
                  <input type="checkbox" class="fullscreen" id="fullscreen"/>
                  <label for="fullscreen">Fullscreen</label>
              </div>
              <button class="ready">Play</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="/js/socket.io.js"></script>
    <script src="/js/pixi.min.js"></script>
    <script type="module" src="game.mjs"></script>
    <script nomodule src="game.js"></script>
  </body>
</html>
